@startuml SetPasswordClerk
skinparam classAttributeIconSize 0
Title SetPasswordClerk Class DiagramBorderColor

' Lớp chính xử lý sign-in
package pkgSetPasswordClerk <<Frame>>{
    ' User class
    class User {
    + id: String
    + email: String
    + fullName: String
    + password: String
    + isPasswordSet: Boolean
    + setPassword(newPassword: String): Boolean
    }

    ' Set password request class
    class SetPasswordRequest {
    + token: String
    + newPassword: String
    + confirmPassword: String
    + validate(): Boolean
    }

    ' Password reset token class
    class SetPasswordToken {
    + token: String
    + expirationDate: Date
    + generateToken(): String
    + isValid(): Boolean
    }

    ' Password validation class
    class PasswordValidator {
    + validatePassword(password: String): Boolean
    + isStrong(password: String): Boolean
    }

    ' Email service class
    class EmailService {
    + sendPasswordResetEmail(user: User, token: SetPasswordToken): void
    }

    ' Relationships
    User --> SetPasswordRequest : "Send request"
    SetPasswordRequest --> SetPasswordToken : "Request authentication token"
    SetPasswordRequest --> PasswordValidator : "Validate password"
    SetPasswordToken --> User : "Update password"
    EmailService --> SetPasswordToken : "Send email with token"
}
@enduml
